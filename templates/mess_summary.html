{% extends "base.html" %}

{% block content %}

<h2 class="mb-4">ğŸ“Š Today's Mess Summary ({{ today }})</h2>

<!-- ================= TODAY ================= -->

<!-- Meal Summary -->
<div class="card mb-4 shadow-sm">
    <div class="card-body">
        <h4 class="card-title mb-3">ğŸ½ Meal Summary (No Cut)</h4>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">ğŸŒ™ Ifthaar Only: <strong>{{ ifthaar_count }}</strong></li>
            <li class="list-group-item">ğŸŒ™ Athaayam Only: <strong>{{ athaayam_count }}</strong></li>
            <li class="list-group-item">ğŸŒ™ Both: <strong>{{ both_count }}</strong></li>
        </ul>
    </div>
</div>

<!-- Delivery Users -->
<div class="card mb-4 shadow-sm">
    <div class="card-body">
        <h4 class="card-title mb-3">ğŸšš Delivery Users (No Cut)</h4>

        {% if delivery_users %}
        <div class="table-responsive">
            <table class="table table-bordered table-striped">
                <thead class="table-primary">
                    <tr>
                        <th>Name</th>
                        <th>Phone</th>
                        <th>Address</th>
                        <th>Meal Type</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in delivery_users %}
                    <tr>
                        <td>{{ user.name }}</td>
                        <td>{{ user.phone }}</td>
                        <td>{{ user.delivery_address }}</td>
                        <td>{{ user.meal_type }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <p class="mt-2">
            <strong>Total Delivery:</strong> {{ delivery_users|length }}
        </p>

        {% else %}
        <p>No delivery users today.</p>
        {% endif %}
    </div>
</div>

<!-- Non Delivery -->
<div class="card mb-5 shadow-sm">
    <div class="card-body">
        <h4 class="card-title">ğŸ½ Non-Delivery Users (No Cut)</h4>
        <p class="fs-5">
            <strong>Total Non-Delivery:</strong> {{ non_delivery_count }}
        </p>
    </div>
</div>


<!-- ================= TOMORROW ================= -->

<h2 class="mb-4">ğŸ“… Tomorrow's Meal Requirement ({{ tomorrow }})</h2>

<div class="card shadow-sm border-success">
    <div class="card-body">

        <h4 class="card-title mb-3">ğŸ½ Meals Needed (After Mess Cut)</h4>

        <ul class="list-group list-group-flush">
            <li class="list-group-item">
                ğŸŒ™ Ifthaar Only: <strong>{{ t_ifthaar_count }}</strong>
            </li>
            <li class="list-group-item">
                ğŸŒ™ Athaayam Only: <strong>{{ t_athaayam_count }}</strong>
            </li>
            <li class="list-group-item">
                ğŸŒ™ Both Meals: <strong>{{ t_both_count }}</strong>
            </li>
        </ul>

        <div class="mt-3 fs-5">
            <strong>Total Meals Tomorrow:</strong>
            {{ t_ifthaar_count + t_athaayam_count + t_both_count }}
        </div>

    </div>
</div>

{% endblock %}
